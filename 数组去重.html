<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 一、利用ES6 Set去重(ES6中最常用)
        // 优点：去重的方法代码最少；缺点无法去掉“{}”空对象
        function unique(arr) {
            return Array.from(new Set(arr))
        }
        var arr = [1,1,'true','true',true,true,15,15,false,false, undefined,undefined, null,null, NaN, NaN,'NaN', 0, 0, 'a', 'a',{},{}];
        console.log(unique(arr));//[1, "true", true, 15, false, undefined, {}, {}]

        // 二、利用for嵌套for，然后splice去重(ES5中最常用)
        // 双层循环，外层循环元素，内层循环比较值，值相同时，则删去这个值
        function unique1(arr1) {
            for(var i=0; i<arr1.length; i++){
                for(var j=i+1; j<arr1.length; j++){
                    if(arr1[i]==arr1[j]){
                        arr1.splice(j,1);
                        j--;
                    }
                }
            }
            return arr1;
        }
        var arr1 = [1,1,'true','true',true,true,15,15,false,false, undefined,undefined, null,null, NaN, NaN,'NaN', 0, 0, 'a', 'a',{},{}];
        console.log(unique1(arr1));

        // 三、利用indexOf去重
        function unique2(arr2) {
            // 判断是否为数组，如果不为数组则返回类型错误
            if (!Array.isArray) {
                console.log('type error!');
                return
            }
            // 定义一个空数组
            var array = [];
            for (var i = 0; i <arr.length; i++) {
                // 确保array中是否存在当前元素，存在就跳过，不存在则push进数组
                if (array.indexOf(arr[i]) === -1) {
                    array.push(arr[i])
                }
            }
            return array;
        }
        var arr2 = [1,1,'true','true',true,true,15,15,false,false, undefined,undefined, null,null, NaN, NaN,'NaN', 0, 0, 'a', 'a',{},{}];
        console.log(unique2(arr2));

        // 四、利用sort()
        // 根据排序后的结果进行遍历以及相邻元素对比
        function unique3(arr3) {
            if (!Array.isArray(arr3)) {
                console.log('type error!')
                return;
            }
            arr3 = arr3.sort()
            var array1 = [arr3[0]];
            for(var i = 1; i<arr3.length; i++) {
                if (arr3[i] !== arr3[i-1]) {
                    array1.push(arr3[i])
                }
            }
            return array1
        }
        var arr3 = [1,1,'true','true',true,true,15,15,false,false, undefined,undefined, null,null, NaN, NaN,'NaN', 0, 0, 'a', 'a',{},{}]; 
        console.log(unique3(arr3));

        // 五、利用includes
        function unique4(arr4) {
            if (!Array.isArray(arr4)) {
                console.log('type error!')
                return;
            }
            var array2 = [];
            for (var i = 0; i < arr4.length; i++) {
                if(!array2.includes(arr4[i])) {
                    array2.push(arr[i]);
                }
            }
            return array2
        }
        var arr4 = [1,1,'true','true',true,true,15,15,false,false, undefined,undefined, null,null, NaN, NaN,'NaN', 0, 0, 'a', 'a',{},{}]; 
        console.log(unique4(arr4));

        // 六、利用hasOwnProperty
        function unique5(arr5) {
            var obj = {};
            return arr5.filter(function(item, index, arr) {
                return obj.hasOwnProperty(typeof item + item) ? false : (obj[typeof item + item] = true)
            })
        }
        var arr5 = [1,1,'true','true',true,true,15,15,false,false, undefined,undefined, null,null, NaN, NaN,'NaN', 0, 0, 'a', 'a',{},{}]; 
        console.log(unique5(arr5));

        // 七、利用filter
        function unique6(arr6) {
            return arr6.filter(function(item, index, arr) {
                // 当前元素，在原始数组中的第一个索引==当前索引值，否则返回当前元素
                return arr.indexOf(item, 0) === index;
            });
        }
        var arr6 = [1,1,'true','true',true,true,15,15,false,false, undefined,undefined, null,null, NaN, NaN,'NaN', 0, 0, 'a', 'a',{},{}]; 
        console.log(unique6(arr6));

        // 八、利用递归去重
        function unique7(arr7) {
            var array3 = arr7;
            var len = array3.length;

            // 首先使用sort排序，再进行去重
            array3.sort(function(a,b){
                return a - b;
            })

            function loop(index) {
                if(index >= 1) {
                    if (array3[index] === array3[index=1]) {
                        array.splice(index, 1);
                    }
                    // 递归loop，然后数组去重
                    loop(index - 1);
                }
            }
            loop(len - 1);
            return array3;
        }

        var arr7 = [1,1,'true','true',true,true,15,15,false,false, undefined,undefined, null,null, NaN, NaN,'NaN', 0, 0, 'a', 'a',{},{}]; 
        console.log(unique6(arr7));

        // 九、利用Map数据结构去重
        function unique8(arr8) {
            // 创建一个空的数据结构
            let map = new Map();
            // array4用于返回结果
            let array4 = new Array();
            // 把数组的每一个元素作为key存到Map中，由于Map中不会出现相同的key值，所以最终得到的就是去重后的结果。
            for(let i = 0; i < arr8.length; i++) {
                if (map.has(arr8[i])) {
                    map.set(arr8[i], true);    //如果有该key值
                } else {
                    map.set(arr8[i],false);    //如果没有该key值
                    array4.push(arr8[i]);
                }
            }
            return array4;
        }
        var arr8 = [1,1,'true','true',true,true,15,15,false,false, undefined,undefined, null,null, NaN, NaN,'NaN', 0, 0, 'a', 'a',{},{}]; 
        console.log(unique8(arr8));

        // 十、利用reduce+includes
        function unique9(arr9) {
            return arr9.reduce((prev,cur) => prev.includes(cur) ? prev : [...prev, cur], []);
        }
        var arr9 = [1,1,'true','true',true,true,15,15,false,false, undefined,undefined, null,null, NaN, NaN,'NaN', 0, 0, 'a', 'a',{},{}]; 
        console.log(unique9(arr9));

        //十一、 [...new Set(arr)]
        
        function unique10(arr10) {
            return Array.from([...new Set(arr10)])
        }
        var arr10 = [1,1,'true','true',true,true,15,15,false,false, undefined,undefined, null,null, NaN, NaN,'NaN', 0, 0, 'a', 'a',{},{}];
        console.log(unique10(arr10));
    </script>
</body>
</html>